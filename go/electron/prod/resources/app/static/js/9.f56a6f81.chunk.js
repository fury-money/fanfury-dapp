(this.webpackJsonp=this.webpackJsonp||[]).push([[9],{2891:function(e,t,r){"use strict";r.r(t),r.d(t,"CollapsablePriceHistory",(function(){return _}));var n,o=r(10),a=r.n(o),i=r(11),l=r.n(i),c=r(3),s=r.n(c),d=r(109),u=r(298),p=r(120),f=r(156),b=r.n(f),j=r(0),O=r(13),y=r(4),g=r(2877),h=r(2680),m=r(2882),x=r(2686),w=r(2201);function v(){return(v=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var k=function(e){return j.createElement("svg",v({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),n||(n=j.createElement("path",{d:"M7.034 1.586C7.3.6 8.7.6 8.966 1.586l1.006 3.737a1 1 0 00.705.705l3.737 1.006c.986.266.986 1.666 0 1.932l-3.737 1.006a1 1 0 00-.705.705l-1.006 3.737c-.266.986-1.666.986-1.932 0l-1.006-3.737a1 1 0 00-.705-.705L1.586 8.966C.6 8.7.6 7.3 1.586 7.034l3.737-1.006a1 1 0 00.705-.705l1.006-3.737z",fill:"#fff"})))},P=r(15),D=r(98),C=r(6),E=r(12),T=r(7),M=r(9),S=r(1148),L=r(1);function N(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?N(Object(r),!0).forEach((function(t){s()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):N(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B={grid:{strokeDasharray:"none",stroke:"none",padding:20},tickLabels:I(I({},O.default.flatten(E.fontMedium14)),{},{fill:C.neutral77}),ticks:{stroke:C.neutral77,size:5}},H=I(I({},B),{},{grid:I(I({},B),{},{stroke:C.neutral33})}),_=function(e){var t=e.nftId,r=z(t),n=Object(P.parseNetworkObjectId)(t),o=l()(n,1)[0],a=null==o?void 0:o.kind,i=a===P.NetworkKind.Ethereum?"ETH":"USD",c=Object(j.useMemo)((function(){return r?r.map((function(e){return{y:a===P.NetworkKind.Ethereum?+u.ethers.utils.formatEther(p.BigNumber.from(e.price)):e.price,x:new Date(e.time)}})):[]}),[r,a]);return Object(L.jsx)(S.CollapsableSection,{icon:k,title:"Price history",isExpandedByDefault:!0,children:Object(L.jsxs)(y.default,{style:F.container,children:[Object(L.jsx)(y.default,{style:F.priceLabelTextContainer,children:Object(L.jsxs)(M.BrandText,{style:F.priceLabelText,children:["Price (",i,")"]})}),Object(L.jsxs)(g.default,{minDomain:{y:0},padding:{top:10,bottom:40,left:80,right:0},height:200,children:[Object(L.jsx)(h.default,{domainPadding:T.layout.padding_x4,style:B,tickFormat:function(e){return b()(e).format("D MMM")}}),Object(L.jsx)(h.default,{dependentAxis:!0,style:H}),Object(L.jsx)(m.default,{style:{data:{stroke:C.primaryColor},border:{stroke:C.transparentColor},parent:{border:"1px solid red"}},dataComponent:Object(L.jsx)(x.default,{openCurve:!0,pathComponent:Object(L.jsx)(w.default,{})}),data:c})]})]})})},z=function(e){var t=Object(P.parseNetworkObjectId)(e),r=l()(t,1)[0];return Object(d.useQuery)(["nftPriceHistory",e],a()((function*(){var t=Object(D.mustGetMarketplaceClient)(null==r?void 0:r.id),n=(yield t.NFTPriceHistory({id:e})).data;return 0===n.length||(n.unshift({price:n[0].price,time:new Date(Date.now()-6048e5).toISOString()}),n.push({price:n[n.length-1].price,time:(new Date).toISOString()}),console.log("data",n)),n})),{initialData:[]}).data},F=O.default.create({container:{margin:T.layout.padding_x2,marginTop:0,borderRadius:.67*T.layout.borderRadius,borderColor:C.neutral33,borderWidth:1,flex:1,paddingTop:T.layout.padding_x2},priceLabelTextContainer:{flex:1,position:"relative"},priceLabelText:O.default.flatten([E.fontMedium10,{transform:[{rotate:"-90deg"}],position:"absolute",left:-10,top:50,bottom:0,color:C.neutral77}])})}}]);
//# sourceMappingURL=9.f56a6f81.chunk.js.map